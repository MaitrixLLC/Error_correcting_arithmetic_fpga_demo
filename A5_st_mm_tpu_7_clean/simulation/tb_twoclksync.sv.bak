`timescale 1 ns/ 1 ns 

module tb_twoclksync();


logic s_clk;
logic f_clk;
logic glb_arst;
logic s_trig;
logic f_ena_out;



int i, j, a, b, chks;

//ModSub_1R #(.DATA_WIDTH(18), .MODULUS(TEST_MODULUS)) Dut1 (.A(OPA), .B(OPB), .result(result)); 
//ModSub_1R_1C #(.DATA_WIDTH(18), .MODULUS(TEST_MODULUS)) Dut1 (.clk(clk), .A(OPA), .B(OPB), .result(result)); 
//ModSub_1R_2C #(.DATA_WIDTH(18), .MODULUS(TEST_MODULUS)) Dut1 (.clk(clk), .A(OPA), .B(OPB), .result(result)); 

twoclksync Dut1 (.s_clk(s_clk), .f_clk(f_clk), .glb_arst(glb_arst), .s_trig(s_trig), .f_ena_out(f_ena_out));
  
 // s_clk clock generator
always begin
    #10;
    s_clk = 1'b1;
    #10
    s_clk = 1'b0;
end

 // f_clk clock generator
always begin
    #7;
    f_clk = 1'b1;
    #7
    f_clk = 1'b0;
end


// main testbench
initial
begin


	 glb_arst = 0;
	 s_trig = 0;

    @(posedge s_clk);
	 
    for (i = 0; i < 2; i = i + 1) @(posedge s_clk);	// burn off three clocks
	 
	 #2	 
	 
		 glb_arst = 1;
		 s_trig = 0;
		 
	 
	    @(posedge s_clk); 
	 
	 #2	 
	 
		 glb_arst = 0;
	 
	    @(posedge s_clk); 
		 
	 #2	 
	 
		 s_trig = 1;
	 
	    @(posedge s_clk);  

	 #2	 
	 
//		 s_trig = 0;
	 
	    @(posedge s_clk);  
		 
		 
		 @(posedge f_clk);
		 
		 
		 @(posedge f_clk);
		 
		 #2

		 
		 @(posedge f_clk);
		 
		 #2

		 
		 @(posedge f_clk);		 
		 
	    for (i = 0; i < 10; i = i + 1) @(posedge s_clk);	// end of simulation
		 

 
    $display("Total correct checks: %d\n", chks);
	 
    $display("End of test bench!\n");
    
    $stop;
	 
end
	 
endmodule
